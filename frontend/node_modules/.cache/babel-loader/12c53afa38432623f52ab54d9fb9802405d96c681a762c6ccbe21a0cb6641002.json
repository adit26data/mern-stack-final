{"ast":null,"code":"import _slicedToArray from\"C:/Users/Adit/Desktop/mern-stack-final/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from'react';import\"./Products.css\";import{useSelector,useDispatch}from'react-redux';import{clearErrors,getProduct}from'../../actions/productAction';import Loader from'../layout/Loader/Loader';import ProductCard from'../Home/ProductCard';import Pagination from\"react-js-pagination\";import{Typography,Slider}from'@mui/material';import{useAlert}from'react-alert';import MetaData from\"../layout/Metadata\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categories=[\"laptop\",\"clothing\",\"Phones and Tech\",\"jewellery\",\"headphones\"];function Products(_ref){var match=_ref.match;var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([0,50000]),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),ratings=_useState8[0],setRatings=_useState8[1];var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products,loading=_useSelector.loading,error=_useSelector.error,productsCount=_useSelector.productsCount,resultPerPage=_useSelector.resultPerPage,filteredProductsCount=_useSelector.filteredProductsCount;var keyword=match.params.keyword;var setCurrentPageNo=function setCurrentPageNo(e){setCurrentPage(e);};var priceHandler=function priceHandler(event,newPrice){setPrice(newPrice);};var count=filteredProductsCount;useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(getProduct(keyword,currentPage,price,category,ratings));},[dispatch,keyword,currentPage,price,category,ratings]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"PRODUCTS -- SHOPPER\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"productsHeading\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products&&products.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{product:product},product._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Price\"}),/*#__PURE__*/_jsx(Slider,{value:price,onChange:priceHandler,valueLabelDisplay:\"auto\",\"aria-labelledby\":\"range-slider\",min:0,max:25000}),/*#__PURE__*/_jsx(Typography,{children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"categoryBox\",children:categories.map(function(category){return/*#__PURE__*/_jsx(\"li\",{className:\"category-link\",onClick:function onClick(){return setCategory(category);},children:category},category);})}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(Typography,{component:\"legend\",children:\"Ratings Above\"}),/*#__PURE__*/_jsx(Slider,{value:ratings,onChange:function onChange(e,newRating){setRatings(newRating);},\"aria-labelledby\":\"continuous-slider\",valueLabelDisplay:\"auto\",min:0,max:5})]})]}),resultPerPage<count&&/*#__PURE__*/_jsx(\"div\",{className:\"paginationBox\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"Last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"})})]})});}export default Products;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","Pagination","Typography","Slider","useAlert","MetaData","jsx","_jsx","jsxs","_jsxs","categories","Products","_ref","match","dispatch","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","price","setPrice","_useState5","_useState6","category","setCategory","_useState7","_useState8","ratings","setRatings","_useSelector","state","products","loading","error","productsCount","resultPerPage","filteredProductsCount","keyword","params","setCurrentPageNo","e","priceHandler","event","newPrice","count","alert","children","title","className","map","product","_id","value","onChange","valueLabelDisplay","min","max","onClick","component","newRating","activePage","itemsCountPerPage","totalItemsCount","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","activeClass","activeLinkClass"],"sources":["C:/Users/Adit/Desktop/mern-stack-final/frontend/src/component/Product/Products.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react'\r\nimport \"./Products.css\"\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { clearErrors, getProduct } from '../../actions/productAction'\r\nimport Loader from '../layout/Loader/Loader'\r\nimport ProductCard from '../Home/ProductCard'\r\nimport Pagination from \"react-js-pagination\"\r\nimport { Typography, Slider } from '@mui/material'\r\nimport { useAlert } from 'react-alert'\r\nimport MetaData from \"../layout/Metadata\";\r\nconst categories = [\r\n    \"laptop\",\r\n    \"clothing\",\r\n    \"Phones and Tech\",\r\n    \"jewellery\",\r\n    \"headphones\",\r\n];\r\nfunction Products({ match }) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [price, setPrice] = useState([0, 50000]);\r\n    const [category, setCategory] = useState(\"\");\r\n    const [ratings, setRatings] = useState(0);\r\n    const { products, loading, error, productsCount, resultPerPage, filteredProductsCount, } = useSelector((state) => state.products);\r\n    const keyword = match.params.keyword;\r\n    const setCurrentPageNo = (e) => {\r\n        setCurrentPage(e);\r\n    };\r\n    const priceHandler = (event, newPrice) => {\r\n        setPrice(newPrice);\r\n    }\r\n    let count = filteredProductsCount;\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n        dispatch(getProduct(keyword, currentPage, price, category, ratings));\r\n    }, [dispatch, keyword, currentPage, price, category, ratings])\r\n    return (\r\n        <Fragment>\r\n            {loading ? (<Loader />) : (\r\n                <Fragment>\r\n                    <MetaData title=\"PRODUCTS -- SHOPPER\" />\r\n                    <h2 className='productsHeading'>Products</h2>\r\n                    <div className=\"products\">\r\n                        {products &&\r\n                            products.map((product) => (\r\n                                <ProductCard key={product._id} product={product} />\r\n                            ))}\r\n                    </div>\r\n                    <div className=\"filterBox\">\r\n                        <Typography>Price</Typography>\r\n                        <Slider\r\n                            value={price}\r\n                            onChange={priceHandler}\r\n                            valueLabelDisplay=\"auto\"\r\n                            aria-labelledby=\"range-slider\"\r\n                            min={0}\r\n                            max={25000}\r\n                        />\r\n\r\n                        <Typography>Categories</Typography>\r\n                        <ul className=\"categoryBox\">\r\n                            {categories.map((category) => (\r\n                                <li\r\n                                    className=\"category-link\"\r\n                                    key={category}\r\n                                    onClick={() => setCategory(category)}\r\n                                >\r\n                                    {category}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n\r\n                        <fieldset>\r\n                            <Typography component=\"legend\">Ratings Above</Typography>\r\n                            <Slider\r\n                                value={ratings}\r\n                                onChange={(e, newRating) => {\r\n                                    setRatings(newRating);\r\n                                }}\r\n                                aria-labelledby=\"continuous-slider\"\r\n                                valueLabelDisplay=\"auto\"\r\n                                min={0}\r\n                                max={5}\r\n                            />\r\n                        </fieldset>\r\n                    </div>\r\n                    {\r\n                        resultPerPage < count &&\r\n                        <div className=\"paginationBox\">\r\n                            <Pagination\r\n                                activePage={currentPage}\r\n                                itemsCountPerPage={resultPerPage}\r\n                                totalItemsCount={productsCount}\r\n                                onChange={setCurrentPageNo}\r\n                                nextPageText=\"Next\"\r\n                                prevPageText=\"Prev\"\r\n                                firstPageText=\"1st\"\r\n                                lastPageText=\"Last\"\r\n                                itemClass=\"page-item\"\r\n                                linkClass=\"page-link\"\r\n                                activeClass=\"pageItemActive\"\r\n                                activeLinkClass=\"pageLinkActive\"\r\n                            />\r\n                        </div>\r\n                    }\r\n\r\n                </Fragment>\r\n\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Products"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}