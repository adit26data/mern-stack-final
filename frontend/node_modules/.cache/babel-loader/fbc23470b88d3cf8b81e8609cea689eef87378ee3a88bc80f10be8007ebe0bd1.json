{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_debounce as debounce, unstable_capitalize as capitalize } from '@mui/utils';\nimport { useGridVisibleRows } from '../../utils/useGridVisibleRows';\nimport { useGridApiMethod } from '../../utils/useGridApiMethod';\nimport { useGridSelector } from '../../utils/useGridSelector';\nimport { gridDensityFactorSelector } from '../density/densitySelector';\nimport { gridFilterModelSelector } from '../filter/gridFilterSelector';\nimport { gridPaginationSelector } from '../pagination/gridPaginationSelector';\nimport { gridSortModelSelector } from '../sorting/gridSortingSelector';\nimport { useGridRegisterPipeApplier } from '../../core/pipeProcessing';\nimport { gridPinnedRowsSelector } from './gridRowsSelector';\nimport { DATA_GRID_PROPS_DEFAULT_VALUES } from '../../../DataGrid/useDataGridProps';\nexport var rowsMetaStateInitializer = function rowsMetaStateInitializer(state) {\n  return _extends({}, state, {\n    rowsMeta: {\n      currentPageTotalHeight: 0,\n      positions: []\n    }\n  });\n};\nvar warnedOnceInvalidRowHeight = false;\nvar getValidRowHeight = function getValidRowHeight(rowHeightProp, defaultRowHeight, warningMessage) {\n  if (typeof rowHeightProp === 'number' && rowHeightProp > 0) {\n    return rowHeightProp;\n  }\n  if (process.env.NODE_ENV !== 'production' && !warnedOnceInvalidRowHeight && typeof rowHeightProp !== 'undefined' && rowHeightProp !== null) {\n    console.warn(warningMessage);\n    warnedOnceInvalidRowHeight = true;\n  }\n  return defaultRowHeight;\n};\nvar rowHeightWarning = [\"MUI: The `rowHeight` prop should be a number greater than 0.\", \"The default value will be used instead.\"].join('\\n');\nvar getRowHeightWarning = [\"MUI: The `getRowHeight` prop should return a number greater than 0 or 'auto'.\", \"The default value will be used instead.\"].join('\\n');\n\n/**\n * @requires useGridPageSize (method)\n * @requires useGridPage (method)\n */\nexport var useGridRowsMeta = function useGridRowsMeta(apiRef, props) {\n  var getRowHeightProp = props.getRowHeight,\n    getRowSpacing = props.getRowSpacing,\n    getEstimatedRowHeight = props.getEstimatedRowHeight;\n  var rowsHeightLookup = React.useRef(Object.create(null));\n\n  // Inspired by https://github.com/bvaughn/react-virtualized/blob/master/source/Grid/utils/CellSizeAndPositionManager.js\n  var lastMeasuredRowIndex = React.useRef(-1);\n  var hasRowWithAutoHeight = React.useRef(false);\n  var densityFactor = useGridSelector(apiRef, gridDensityFactorSelector);\n  var filterModel = useGridSelector(apiRef, gridFilterModelSelector);\n  var paginationState = useGridSelector(apiRef, gridPaginationSelector);\n  var sortModel = useGridSelector(apiRef, gridSortModelSelector);\n  var currentPage = useGridVisibleRows(apiRef, props);\n  var pinnedRows = useGridSelector(apiRef, gridPinnedRowsSelector);\n  var validRowHeight = getValidRowHeight(props.rowHeight, DATA_GRID_PROPS_DEFAULT_VALUES.rowHeight, rowHeightWarning);\n  var rowHeight = Math.floor(validRowHeight * densityFactor);\n  var hydrateRowsMeta = React.useCallback(function () {\n    var _pinnedRows$top, _pinnedRows$bottom;\n    hasRowWithAutoHeight.current = false;\n    var calculateRowProcessedSizes = function calculateRowProcessedSizes(row) {\n      if (!rowsHeightLookup.current[row.id]) {\n        rowsHeightLookup.current[row.id] = {\n          sizes: {\n            baseCenter: rowHeight\n          },\n          isResized: false,\n          autoHeight: false,\n          needsFirstMeasurement: true // Assume all rows will need to be measured by default\n        };\n      }\n\n      var _rowsHeightLookup$cur3 = rowsHeightLookup.current[row.id],\n        isResized = _rowsHeightLookup$cur3.isResized,\n        needsFirstMeasurement = _rowsHeightLookup$cur3.needsFirstMeasurement,\n        sizes = _rowsHeightLookup$cur3.sizes;\n      var baseRowHeight = typeof rowHeight === 'number' && rowHeight > 0 ? rowHeight : 52;\n      var existingBaseRowHeight = sizes.baseCenter;\n      if (isResized) {\n        // Do not recalculate resized row height and use the value from the lookup\n        baseRowHeight = existingBaseRowHeight;\n      } else if (getRowHeightProp) {\n        var rowHeightFromUser = getRowHeightProp(_extends({}, row, {\n          densityFactor: densityFactor\n        }));\n        if (rowHeightFromUser === 'auto') {\n          if (needsFirstMeasurement) {\n            var estimatedRowHeight = getEstimatedRowHeight ? getEstimatedRowHeight(_extends({}, row, {\n              densityFactor: densityFactor\n            })) : rowHeight;\n\n            // If the row was not measured yet use the estimated row height\n            baseRowHeight = estimatedRowHeight != null ? estimatedRowHeight : rowHeight;\n          } else {\n            baseRowHeight = existingBaseRowHeight;\n          }\n          hasRowWithAutoHeight.current = true;\n          rowsHeightLookup.current[row.id].autoHeight = true;\n        } else {\n          // Default back to base rowHeight if getRowHeight returns invalid value.\n          baseRowHeight = getValidRowHeight(rowHeightFromUser, rowHeight, getRowHeightWarning);\n          rowsHeightLookup.current[row.id].needsFirstMeasurement = false;\n          rowsHeightLookup.current[row.id].autoHeight = false;\n        }\n      } else {\n        rowsHeightLookup.current[row.id].needsFirstMeasurement = false;\n      }\n      var initialHeights = {};\n      /* eslint-disable-next-line no-restricted-syntax */\n      for (var key in sizes) {\n        if (/^base[A-Z]/.test(key)) {\n          initialHeights[key] = sizes[key];\n        }\n      }\n      initialHeights.baseCenter = baseRowHeight;\n      if (getRowSpacing) {\n        var _spacing$top, _spacing$bottom;\n        var indexRelativeToCurrentPage = apiRef.current.getRowIndexRelativeToVisibleRows(row.id);\n        var spacing = getRowSpacing(_extends({}, row, {\n          isFirstVisible: indexRelativeToCurrentPage === 0,\n          isLastVisible: indexRelativeToCurrentPage === currentPage.rows.length - 1,\n          indexRelativeToCurrentPage: indexRelativeToCurrentPage\n        }));\n        initialHeights.spacingTop = (_spacing$top = spacing.top) != null ? _spacing$top : 0;\n        initialHeights.spacingBottom = (_spacing$bottom = spacing.bottom) != null ? _spacing$bottom : 0;\n      }\n      var processedSizes = apiRef.current.unstable_applyPipeProcessors('rowHeight', initialHeights, row);\n      rowsHeightLookup.current[row.id].sizes = processedSizes;\n      return processedSizes;\n    };\n    var positions = [];\n    var currentPageTotalHeight = currentPage.rows.reduce(function (acc, row) {\n      positions.push(acc);\n      var maximumBaseSize = 0;\n      var otherSizes = 0;\n      var processedSizes = calculateRowProcessedSizes(row);\n      /* eslint-disable-next-line no-restricted-syntax, guard-for-in */\n      for (var key in processedSizes) {\n        var value = processedSizes[key];\n        if (/^base[A-Z]/.test(key)) {\n          maximumBaseSize = value > maximumBaseSize ? value : maximumBaseSize;\n        } else {\n          otherSizes += value;\n        }\n      }\n      return acc + maximumBaseSize + otherSizes;\n    }, 0);\n    pinnedRows == null ? void 0 : (_pinnedRows$top = pinnedRows.top) == null ? void 0 : _pinnedRows$top.forEach(function (row) {\n      calculateRowProcessedSizes(row);\n    });\n    pinnedRows == null ? void 0 : (_pinnedRows$bottom = pinnedRows.bottom) == null ? void 0 : _pinnedRows$bottom.forEach(function (row) {\n      calculateRowProcessedSizes(row);\n    });\n    apiRef.current.setState(function (state) {\n      return _extends({}, state, {\n        rowsMeta: {\n          currentPageTotalHeight: currentPageTotalHeight,\n          positions: positions\n        }\n      });\n    });\n    if (!hasRowWithAutoHeight.current) {\n      // No row has height=auto, so all rows are already measured\n      lastMeasuredRowIndex.current = Infinity;\n    }\n    apiRef.current.forceUpdate();\n  }, [apiRef, currentPage.rows, rowHeight, getRowHeightProp, getRowSpacing, getEstimatedRowHeight, pinnedRows, densityFactor]);\n  var getRowHeight = React.useCallback(function (rowId) {\n    var height = rowsHeightLookup.current[rowId];\n    return height ? height.sizes.baseCenter : rowHeight;\n  }, [rowHeight]);\n  var getRowInternalSizes = function getRowInternalSizes(rowId) {\n    var _rowsHeightLookup$cur;\n    return (_rowsHeightLookup$cur = rowsHeightLookup.current[rowId]) == null ? void 0 : _rowsHeightLookup$cur.sizes;\n  };\n  var setRowHeight = React.useCallback(function (id, height) {\n    rowsHeightLookup.current[id].sizes.baseCenter = height;\n    rowsHeightLookup.current[id].isResized = true;\n    rowsHeightLookup.current[id].needsFirstMeasurement = false;\n    hydrateRowsMeta();\n  }, [hydrateRowsMeta]);\n  var debouncedHydrateRowsMeta = React.useMemo(function () {\n    return debounce(hydrateRowsMeta);\n  }, [hydrateRowsMeta]);\n  var storeMeasuredRowHeight = React.useCallback(function (id, height, position) {\n    if (!rowsHeightLookup.current[id] || !rowsHeightLookup.current[id].autoHeight) {\n      return;\n    }\n\n    // Only trigger hydration if the value is different, otherwise we trigger a loop\n    var needsHydration = rowsHeightLookup.current[id].sizes[\"base\".concat(capitalize(position))] !== height;\n    rowsHeightLookup.current[id].needsFirstMeasurement = false;\n    rowsHeightLookup.current[id].sizes[\"base\".concat(capitalize(position))] = height;\n    if (needsHydration) {\n      debouncedHydrateRowsMeta();\n    }\n  }, [debouncedHydrateRowsMeta]);\n  var rowHasAutoHeight = React.useCallback(function (id) {\n    var _rowsHeightLookup$cur2;\n    return ((_rowsHeightLookup$cur2 = rowsHeightLookup.current[id]) == null ? void 0 : _rowsHeightLookup$cur2.autoHeight) || false;\n  }, []);\n  var getLastMeasuredRowIndex = React.useCallback(function () {\n    return lastMeasuredRowIndex.current;\n  }, []);\n  var setLastMeasuredRowIndex = React.useCallback(function (index) {\n    if (hasRowWithAutoHeight.current && index > lastMeasuredRowIndex.current) {\n      lastMeasuredRowIndex.current = index;\n    }\n  }, []);\n  var resetRowHeights = React.useCallback(function () {\n    rowsHeightLookup.current = {};\n    hydrateRowsMeta();\n  }, [hydrateRowsMeta]);\n\n  // The effect is used to build the rows meta data - currentPageTotalHeight and positions.\n  // Because of variable row height this is needed for the virtualization\n  React.useEffect(function () {\n    hydrateRowsMeta();\n  }, [rowHeight, filterModel, paginationState, sortModel, hydrateRowsMeta]);\n  useGridRegisterPipeApplier(apiRef, 'rowHeight', hydrateRowsMeta);\n  var rowsMetaApi = {\n    unstable_setLastMeasuredRowIndex: setLastMeasuredRowIndex,\n    unstable_getRowHeight: getRowHeight,\n    unstable_getRowInternalSizes: getRowInternalSizes,\n    unstable_setRowHeight: setRowHeight,\n    unstable_storeRowHeightMeasurement: storeMeasuredRowHeight,\n    resetRowHeights: resetRowHeights\n  };\n  var rowsMetaPrivateApi = {\n    getLastMeasuredRowIndex: getLastMeasuredRowIndex,\n    rowHasAutoHeight: rowHasAutoHeight\n  };\n  useGridApiMethod(apiRef, rowsMetaApi, 'public');\n  useGridApiMethod(apiRef, rowsMetaPrivateApi, 'private');\n};","map":{"version":3,"names":["_extends","React","unstable_debounce","debounce","unstable_capitalize","capitalize","useGridVisibleRows","useGridApiMethod","useGridSelector","gridDensityFactorSelector","gridFilterModelSelector","gridPaginationSelector","gridSortModelSelector","useGridRegisterPipeApplier","gridPinnedRowsSelector","DATA_GRID_PROPS_DEFAULT_VALUES","rowsMetaStateInitializer","state","rowsMeta","currentPageTotalHeight","positions","warnedOnceInvalidRowHeight","getValidRowHeight","rowHeightProp","defaultRowHeight","warningMessage","process","env","NODE_ENV","console","warn","rowHeightWarning","join","getRowHeightWarning","useGridRowsMeta","apiRef","props","getRowHeightProp","getRowHeight","getRowSpacing","getEstimatedRowHeight","rowsHeightLookup","useRef","Object","create","lastMeasuredRowIndex","hasRowWithAutoHeight","densityFactor","filterModel","paginationState","sortModel","currentPage","pinnedRows","validRowHeight","rowHeight","Math","floor","hydrateRowsMeta","useCallback","_pinnedRows$top","_pinnedRows$bottom","current","calculateRowProcessedSizes","row","id","sizes","baseCenter","isResized","autoHeight","needsFirstMeasurement","_rowsHeightLookup$cur3","baseRowHeight","existingBaseRowHeight","rowHeightFromUser","estimatedRowHeight","initialHeights","key","test","_spacing$top","_spacing$bottom","indexRelativeToCurrentPage","getRowIndexRelativeToVisibleRows","spacing","isFirstVisible","isLastVisible","rows","length","spacingTop","top","spacingBottom","bottom","processedSizes","unstable_applyPipeProcessors","reduce","acc","push","maximumBaseSize","otherSizes","value","forEach","setState","Infinity","forceUpdate","rowId","height","getRowInternalSizes","_rowsHeightLookup$cur","setRowHeight","debouncedHydrateRowsMeta","useMemo","storeMeasuredRowHeight","position","needsHydration","concat","rowHasAutoHeight","_rowsHeightLookup$cur2","getLastMeasuredRowIndex","setLastMeasuredRowIndex","index","resetRowHeights","useEffect","rowsMetaApi","unstable_setLastMeasuredRowIndex","unstable_getRowHeight","unstable_getRowInternalSizes","unstable_setRowHeight","unstable_storeRowHeightMeasurement","rowsMetaPrivateApi"],"sources":["C:/Users/Adit/Desktop/mern-stack-final/frontend/node_modules/@mui/x-data-grid/hooks/features/rows/useGridRowsMeta.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_debounce as debounce, unstable_capitalize as capitalize } from '@mui/utils';\nimport { useGridVisibleRows } from '../../utils/useGridVisibleRows';\nimport { useGridApiMethod } from '../../utils/useGridApiMethod';\nimport { useGridSelector } from '../../utils/useGridSelector';\nimport { gridDensityFactorSelector } from '../density/densitySelector';\nimport { gridFilterModelSelector } from '../filter/gridFilterSelector';\nimport { gridPaginationSelector } from '../pagination/gridPaginationSelector';\nimport { gridSortModelSelector } from '../sorting/gridSortingSelector';\nimport { useGridRegisterPipeApplier } from '../../core/pipeProcessing';\nimport { gridPinnedRowsSelector } from './gridRowsSelector';\nimport { DATA_GRID_PROPS_DEFAULT_VALUES } from '../../../DataGrid/useDataGridProps';\nexport const rowsMetaStateInitializer = state => _extends({}, state, {\n  rowsMeta: {\n    currentPageTotalHeight: 0,\n    positions: []\n  }\n});\nlet warnedOnceInvalidRowHeight = false;\nconst getValidRowHeight = (rowHeightProp, defaultRowHeight, warningMessage) => {\n  if (typeof rowHeightProp === 'number' && rowHeightProp > 0) {\n    return rowHeightProp;\n  }\n  if (process.env.NODE_ENV !== 'production' && !warnedOnceInvalidRowHeight && typeof rowHeightProp !== 'undefined' && rowHeightProp !== null) {\n    console.warn(warningMessage);\n    warnedOnceInvalidRowHeight = true;\n  }\n  return defaultRowHeight;\n};\nconst rowHeightWarning = [`MUI: The \\`rowHeight\\` prop should be a number greater than 0.`, `The default value will be used instead.`].join('\\n');\nconst getRowHeightWarning = [`MUI: The \\`getRowHeight\\` prop should return a number greater than 0 or 'auto'.`, `The default value will be used instead.`].join('\\n');\n\n/**\n * @requires useGridPageSize (method)\n * @requires useGridPage (method)\n */\nexport const useGridRowsMeta = (apiRef, props) => {\n  const {\n    getRowHeight: getRowHeightProp,\n    getRowSpacing,\n    getEstimatedRowHeight\n  } = props;\n  const rowsHeightLookup = React.useRef(Object.create(null));\n\n  // Inspired by https://github.com/bvaughn/react-virtualized/blob/master/source/Grid/utils/CellSizeAndPositionManager.js\n  const lastMeasuredRowIndex = React.useRef(-1);\n  const hasRowWithAutoHeight = React.useRef(false);\n  const densityFactor = useGridSelector(apiRef, gridDensityFactorSelector);\n  const filterModel = useGridSelector(apiRef, gridFilterModelSelector);\n  const paginationState = useGridSelector(apiRef, gridPaginationSelector);\n  const sortModel = useGridSelector(apiRef, gridSortModelSelector);\n  const currentPage = useGridVisibleRows(apiRef, props);\n  const pinnedRows = useGridSelector(apiRef, gridPinnedRowsSelector);\n  const validRowHeight = getValidRowHeight(props.rowHeight, DATA_GRID_PROPS_DEFAULT_VALUES.rowHeight, rowHeightWarning);\n  const rowHeight = Math.floor(validRowHeight * densityFactor);\n  const hydrateRowsMeta = React.useCallback(() => {\n    var _pinnedRows$top, _pinnedRows$bottom;\n    hasRowWithAutoHeight.current = false;\n    const calculateRowProcessedSizes = row => {\n      if (!rowsHeightLookup.current[row.id]) {\n        rowsHeightLookup.current[row.id] = {\n          sizes: {\n            baseCenter: rowHeight\n          },\n          isResized: false,\n          autoHeight: false,\n          needsFirstMeasurement: true // Assume all rows will need to be measured by default\n        };\n      }\n\n      const {\n        isResized,\n        needsFirstMeasurement,\n        sizes\n      } = rowsHeightLookup.current[row.id];\n      let baseRowHeight = typeof rowHeight === 'number' && rowHeight > 0 ? rowHeight : 52;\n      const existingBaseRowHeight = sizes.baseCenter;\n      if (isResized) {\n        // Do not recalculate resized row height and use the value from the lookup\n        baseRowHeight = existingBaseRowHeight;\n      } else if (getRowHeightProp) {\n        const rowHeightFromUser = getRowHeightProp(_extends({}, row, {\n          densityFactor\n        }));\n        if (rowHeightFromUser === 'auto') {\n          if (needsFirstMeasurement) {\n            const estimatedRowHeight = getEstimatedRowHeight ? getEstimatedRowHeight(_extends({}, row, {\n              densityFactor\n            })) : rowHeight;\n\n            // If the row was not measured yet use the estimated row height\n            baseRowHeight = estimatedRowHeight != null ? estimatedRowHeight : rowHeight;\n          } else {\n            baseRowHeight = existingBaseRowHeight;\n          }\n          hasRowWithAutoHeight.current = true;\n          rowsHeightLookup.current[row.id].autoHeight = true;\n        } else {\n          // Default back to base rowHeight if getRowHeight returns invalid value.\n          baseRowHeight = getValidRowHeight(rowHeightFromUser, rowHeight, getRowHeightWarning);\n          rowsHeightLookup.current[row.id].needsFirstMeasurement = false;\n          rowsHeightLookup.current[row.id].autoHeight = false;\n        }\n      } else {\n        rowsHeightLookup.current[row.id].needsFirstMeasurement = false;\n      }\n      const initialHeights = {};\n      /* eslint-disable-next-line no-restricted-syntax */\n      for (const key in sizes) {\n        if (/^base[A-Z]/.test(key)) {\n          initialHeights[key] = sizes[key];\n        }\n      }\n      initialHeights.baseCenter = baseRowHeight;\n      if (getRowSpacing) {\n        var _spacing$top, _spacing$bottom;\n        const indexRelativeToCurrentPage = apiRef.current.getRowIndexRelativeToVisibleRows(row.id);\n        const spacing = getRowSpacing(_extends({}, row, {\n          isFirstVisible: indexRelativeToCurrentPage === 0,\n          isLastVisible: indexRelativeToCurrentPage === currentPage.rows.length - 1,\n          indexRelativeToCurrentPage\n        }));\n        initialHeights.spacingTop = (_spacing$top = spacing.top) != null ? _spacing$top : 0;\n        initialHeights.spacingBottom = (_spacing$bottom = spacing.bottom) != null ? _spacing$bottom : 0;\n      }\n      const processedSizes = apiRef.current.unstable_applyPipeProcessors('rowHeight', initialHeights, row);\n      rowsHeightLookup.current[row.id].sizes = processedSizes;\n      return processedSizes;\n    };\n    const positions = [];\n    const currentPageTotalHeight = currentPage.rows.reduce((acc, row) => {\n      positions.push(acc);\n      let maximumBaseSize = 0;\n      let otherSizes = 0;\n      const processedSizes = calculateRowProcessedSizes(row);\n      /* eslint-disable-next-line no-restricted-syntax, guard-for-in */\n      for (const key in processedSizes) {\n        const value = processedSizes[key];\n        if (/^base[A-Z]/.test(key)) {\n          maximumBaseSize = value > maximumBaseSize ? value : maximumBaseSize;\n        } else {\n          otherSizes += value;\n        }\n      }\n      return acc + maximumBaseSize + otherSizes;\n    }, 0);\n    pinnedRows == null ? void 0 : (_pinnedRows$top = pinnedRows.top) == null ? void 0 : _pinnedRows$top.forEach(row => {\n      calculateRowProcessedSizes(row);\n    });\n    pinnedRows == null ? void 0 : (_pinnedRows$bottom = pinnedRows.bottom) == null ? void 0 : _pinnedRows$bottom.forEach(row => {\n      calculateRowProcessedSizes(row);\n    });\n    apiRef.current.setState(state => {\n      return _extends({}, state, {\n        rowsMeta: {\n          currentPageTotalHeight,\n          positions\n        }\n      });\n    });\n    if (!hasRowWithAutoHeight.current) {\n      // No row has height=auto, so all rows are already measured\n      lastMeasuredRowIndex.current = Infinity;\n    }\n    apiRef.current.forceUpdate();\n  }, [apiRef, currentPage.rows, rowHeight, getRowHeightProp, getRowSpacing, getEstimatedRowHeight, pinnedRows, densityFactor]);\n  const getRowHeight = React.useCallback(rowId => {\n    const height = rowsHeightLookup.current[rowId];\n    return height ? height.sizes.baseCenter : rowHeight;\n  }, [rowHeight]);\n  const getRowInternalSizes = rowId => {\n    var _rowsHeightLookup$cur;\n    return (_rowsHeightLookup$cur = rowsHeightLookup.current[rowId]) == null ? void 0 : _rowsHeightLookup$cur.sizes;\n  };\n  const setRowHeight = React.useCallback((id, height) => {\n    rowsHeightLookup.current[id].sizes.baseCenter = height;\n    rowsHeightLookup.current[id].isResized = true;\n    rowsHeightLookup.current[id].needsFirstMeasurement = false;\n    hydrateRowsMeta();\n  }, [hydrateRowsMeta]);\n  const debouncedHydrateRowsMeta = React.useMemo(() => debounce(hydrateRowsMeta), [hydrateRowsMeta]);\n  const storeMeasuredRowHeight = React.useCallback((id, height, position) => {\n    if (!rowsHeightLookup.current[id] || !rowsHeightLookup.current[id].autoHeight) {\n      return;\n    }\n\n    // Only trigger hydration if the value is different, otherwise we trigger a loop\n    const needsHydration = rowsHeightLookup.current[id].sizes[`base${capitalize(position)}`] !== height;\n    rowsHeightLookup.current[id].needsFirstMeasurement = false;\n    rowsHeightLookup.current[id].sizes[`base${capitalize(position)}`] = height;\n    if (needsHydration) {\n      debouncedHydrateRowsMeta();\n    }\n  }, [debouncedHydrateRowsMeta]);\n  const rowHasAutoHeight = React.useCallback(id => {\n    var _rowsHeightLookup$cur2;\n    return ((_rowsHeightLookup$cur2 = rowsHeightLookup.current[id]) == null ? void 0 : _rowsHeightLookup$cur2.autoHeight) || false;\n  }, []);\n  const getLastMeasuredRowIndex = React.useCallback(() => {\n    return lastMeasuredRowIndex.current;\n  }, []);\n  const setLastMeasuredRowIndex = React.useCallback(index => {\n    if (hasRowWithAutoHeight.current && index > lastMeasuredRowIndex.current) {\n      lastMeasuredRowIndex.current = index;\n    }\n  }, []);\n  const resetRowHeights = React.useCallback(() => {\n    rowsHeightLookup.current = {};\n    hydrateRowsMeta();\n  }, [hydrateRowsMeta]);\n\n  // The effect is used to build the rows meta data - currentPageTotalHeight and positions.\n  // Because of variable row height this is needed for the virtualization\n  React.useEffect(() => {\n    hydrateRowsMeta();\n  }, [rowHeight, filterModel, paginationState, sortModel, hydrateRowsMeta]);\n  useGridRegisterPipeApplier(apiRef, 'rowHeight', hydrateRowsMeta);\n  const rowsMetaApi = {\n    unstable_setLastMeasuredRowIndex: setLastMeasuredRowIndex,\n    unstable_getRowHeight: getRowHeight,\n    unstable_getRowInternalSizes: getRowInternalSizes,\n    unstable_setRowHeight: setRowHeight,\n    unstable_storeRowHeightMeasurement: storeMeasuredRowHeight,\n    resetRowHeights\n  };\n  const rowsMetaPrivateApi = {\n    getLastMeasuredRowIndex,\n    rowHasAutoHeight\n  };\n  useGridApiMethod(apiRef, rowsMetaApi, 'public');\n  useGridApiMethod(apiRef, rowsMetaPrivateApi, 'private');\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}