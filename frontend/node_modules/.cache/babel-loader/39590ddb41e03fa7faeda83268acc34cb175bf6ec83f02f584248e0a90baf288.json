{"ast":null,"code":"import React,{Fragment,useEffect}from\"react\";import\"./OrderDetails.css\";import{useSelector,useDispatch}from\"react-redux\";import MetaData from\"../layout/Metadata\";import{Link}from\"react-router-dom\";import{Typography}from\"@mui/material\";import{getOrderDetails,clearErrors}from\"../../actions/orderAction\";import Loader from\"../layout/Loader/Loader\";import{useAlert}from\"react-alert\";import{useParams}from\"react-router-dom/cjs/react-router-dom.min\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetails=function OrderDetails(){var _useParams=useParams(),id=_useParams.id;var _useSelector=useSelector(function(state){return state.orderDetails;}),order=_useSelector.order,error=_useSelector.error,loading=_useSelector.loading;var dispatch=useDispatch();var alert=useAlert();useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(getOrderDetails(id));},[dispatch,alert,error,id]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Order Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainer\",children:[/*#__PURE__*/_jsxs(Typography,{component:\"h1\",children:[\"Order #\",order&&(order===null||order===void 0?void 0:order._id)]}),/*#__PURE__*/_jsx(Typography,{children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainerBox\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:(order===null||order===void 0?void 0:order.user)&&(order===null||order===void 0?void 0:order.user.name)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{children:(order===null||order===void 0?void 0:order.shippingInfo)&&(order===null||order===void 0?void 0:order.shippingInfo.phoneNo)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{children:(order===null||order===void 0?void 0:order.shippingInfo)&&\"\".concat(order===null||order===void 0?void 0:order.shippingInfo.address,\", \").concat(order===null||order===void 0?void 0:order.shippingInfo.city,\", \").concat(order===null||order===void 0?void 0:order.shippingInfo.state,\", \").concat(order===null||order===void 0?void 0:order.shippingInfo.pinCode,\", \").concat(order===null||order===void 0?void 0:order.shippingInfo.country)})]})]}),/*#__PURE__*/_jsx(Typography,{children:\"Payment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainerBox\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:order!==null&&order!==void 0&&order.paymentInfo&&(order===null||order===void 0?void 0:order.paymentInfo.status)===\"succeeded\"?\"greenColor\":\"redColor\",children:order!==null&&order!==void 0&&order.paymentInfo&&(order===null||order===void 0?void 0:order.paymentInfo.status)===\"succeeded\"?\"PAID\":\"NOT PAID\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"span\",{children:(order===null||order===void 0?void 0:order.totalPrice)&&(order===null||order===void 0?void 0:order.totalPrice)})]})]}),/*#__PURE__*/_jsx(Typography,{children:\"Order Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orderDetailsContainerBox\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:order!==null&&order!==void 0&&order.orderStatus&&(order===null||order===void 0?void 0:order.orderStatus)===\"Delivered\"?\"greenColor\":\"redColor\",children:(order===null||order===void 0?void 0:order.orderStatus)&&(order===null||order===void 0?void 0:order.orderStatus)})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsCartItems\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Order Items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orderDetailsCartItemsContainer\",children:(order===null||order===void 0?void 0:order.orderItems)&&(order===null||order===void 0?void 0:order.orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\" X \\u20B9\",item.price,\" =\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u20B9\",item.price*item.quantity]})]})]},item.product);}))})]})]})]})});};export default OrderDetails;","map":{"version":3,"names":["React","Fragment","useEffect","useSelector","useDispatch","MetaData","Link","Typography","getOrderDetails","clearErrors","Loader","useAlert","useParams","jsx","_jsx","jsxs","_jsxs","OrderDetails","_useParams","id","_useSelector","state","orderDetails","order","error","loading","dispatch","alert","children","title","className","component","_id","user","name","shippingInfo","phoneNo","concat","address","city","pinCode","country","paymentInfo","status","totalPrice","orderStatus","orderItems","map","item","src","image","alt","to","product","quantity","price"],"sources":["C:/Users/Adit/Desktop/mern-stack-final/frontend/src/component/Order/OrderDetails.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\r\nimport \"./OrderDetails.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport MetaData from \"../layout/Metadata\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { getOrderDetails, clearErrors } from \"../../actions/orderAction\";\r\nimport Loader from \"../layout/Loader/Loader\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst OrderDetails = () => {\r\n    const { id } = useParams();\r\n    const { order, error, loading } = useSelector((state) => state.orderDetails);\r\n\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        dispatch(getOrderDetails(id));\r\n    }, [dispatch, alert, error, id]);\r\n    return (\r\n        <Fragment>\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <Fragment>\r\n                    <MetaData title=\"Order Details\" />\r\n                    <div className=\"orderDetailsPage\">\r\n                        <div className=\"orderDetailsContainer\">\r\n                            <Typography component=\"h1\">\r\n                                Order #{order && order?._id}\r\n                            </Typography>\r\n                            <Typography>Shipping Info</Typography>\r\n                            <div className=\"orderDetailsContainerBox\">\r\n                                <div>\r\n                                    <p>Name:</p>\r\n                                    <span>{order?.user && order?.user.name}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <p>Phone:</p>\r\n                                    <span>\r\n                                        {order?.shippingInfo && order?.shippingInfo.phoneNo}\r\n                                    </span>\r\n                                </div>\r\n                                <div>\r\n                                    <p>Address:</p>\r\n                                    <span>\r\n                                        {order?.shippingInfo &&\r\n                                            `${order?.shippingInfo.address}, ${order?.shippingInfo.city}, ${order?.shippingInfo.state}, ${order?.shippingInfo.pinCode}, ${order?.shippingInfo.country}`}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <Typography>Payment</Typography>\r\n                            <div className=\"orderDetailsContainerBox\">\r\n                                <div>\r\n                                    <p\r\n                                        className={\r\n                                            order?.paymentInfo &&\r\n                                                order?.paymentInfo.status === \"succeeded\"\r\n                                                ? \"greenColor\"\r\n                                                : \"redColor\"\r\n                                        }\r\n                                    >\r\n                                        {order?.paymentInfo &&\r\n                                            order?.paymentInfo.status === \"succeeded\"\r\n                                            ? \"PAID\"\r\n                                            : \"NOT PAID\"}\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <p>Amount:</p>\r\n                                    <span>{order?.totalPrice && order?.totalPrice}</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <Typography>Order Status</Typography>\r\n                            <div className=\"orderDetailsContainerBox\">\r\n                                <div>\r\n                                    <p\r\n                                        className={\r\n                                            order?.orderStatus && order?.orderStatus === \"Delivered\"\r\n                                                ? \"greenColor\"\r\n                                                : \"redColor\"\r\n                                        }\r\n                                    >\r\n                                        {order?.orderStatus && order?.orderStatus}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"orderDetailsCartItems\">\r\n                            <Typography>Order Items:</Typography>\r\n                            <div className=\"orderDetailsCartItemsContainer\">\r\n                                {order?.orderItems &&\r\n                                    order?.orderItems.map((item) => (\r\n                                        <div key={item.product}>\r\n                                            <img src={item.image} alt=\"Product\" />\r\n                                            <Link to={`/product/${item.product}`}>\r\n                                                {item.name}\r\n                                            </Link>{\" \"}\r\n                                            <span>\r\n                                                {item.quantity} X ₹{item.price} ={\" \"}\r\n                                                <b>₹{item.price * item.quantity}</b>\r\n                                            </span>\r\n                                        </div>\r\n                                    ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default OrderDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}