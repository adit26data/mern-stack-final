{"ast":null,"code":"import React,{Fragment}from\"react\";import\"./Cart.css\";import CartItemCard from\"./CartItemCard\";import{useSelector,useDispatch}from\"react-redux\";import{addItemsToCart,removeItemsFromCart}from\"../../actions/cartAction\";import{Typography}from\"@mui/material\";import RemoveShoppingCartIcon from\"@mui/icons-material/RemoveShoppingCart\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(_ref){var history=_ref.history;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.cart;}),cartItems=_useSelector.cartItems;var increaseQuantity=function increaseQuantity(id,quantity,stock){var newQty=quantity+1;if(stock<=quantity){return;}dispatch(addItemsToCart(id,newQty));};var decreaseQuantity=function decreaseQuantity(id,quantity){var newQty=quantity-1;if(1>=quantity){return;}dispatch(addItemsToCart(id,newQty));};var deleteCartItems=function deleteCartItems(id){dispatch(removeItemsFromCart(id));};var checkoutHandler=function checkoutHandler(){history.push(\"/login?redirect=shipping\");};return/*#__PURE__*/_jsx(Fragment,{children:cartItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"emptyCart\",children:[/*#__PURE__*/_jsx(RemoveShoppingCartIcon,{}),/*#__PURE__*/_jsx(Typography,{children:\"No Product in Your Cart\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",children:\"View Products\"})]}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cartPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartHeader\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal\"})]}),cartItems&&cartItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"cartContainer\",children:[/*#__PURE__*/_jsx(CartItemCard,{item:item,deleteCartItems:deleteCartItems}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartInput\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return decreaseQuantity(item.product,item.quantity);},children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return increaseQuantity(item.product,item.quantity,item.stock);},children:\"+\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"cartSubtotal\",children:\"\\u20B9\".concat(item.price*item.quantity)})]},item.product);}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartGrossProfit\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartGrossProfitBox\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Gross Total\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u20B9\".concat(cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0))})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"checkOutBtn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:checkoutHandler,children:\"Check Out\"})})]})]})})});};export default Cart;","map":{"version":3,"names":["React","Fragment","CartItemCard","useSelector","useDispatch","addItemsToCart","removeItemsFromCart","Typography","RemoveShoppingCartIcon","Link","jsx","_jsx","jsxs","_jsxs","Cart","_ref","history","dispatch","_useSelector","state","cart","cartItems","increaseQuantity","id","quantity","stock","newQty","decreaseQuantity","deleteCartItems","checkoutHandler","push","children","length","className","to","map","item","onClick","product","type","value","readOnly","concat","price","reduce","acc"],"sources":["C:/Users/Adit/Desktop/mern-stack-final/frontend/src/component/Cart/Cart.js"],"sourcesContent":["import React, { Fragment } from \"react\";\r\nimport \"./Cart.css\";\r\nimport CartItemCard from \"./CartItemCard\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { addItemsToCart, removeItemsFromCart } from \"../../actions/cartAction\";\r\nimport { Typography } from \"@mui/material\";\r\nimport RemoveShoppingCartIcon from \"@mui/icons-material/RemoveShoppingCart\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Cart = ({ history }) => {\r\n    const dispatch = useDispatch();\r\n    const { cartItems } = useSelector((state) => state.cart);\r\n\r\n    const increaseQuantity = (id, quantity, stock) => {\r\n        const newQty = quantity + 1;\r\n        if (stock <= quantity) {\r\n            return;\r\n        }\r\n        dispatch(addItemsToCart(id, newQty));\r\n    };\r\n\r\n    const decreaseQuantity = (id, quantity) => {\r\n        const newQty = quantity - 1;\r\n        if (1 >= quantity) {\r\n            return;\r\n        }\r\n        dispatch(addItemsToCart(id, newQty));\r\n    };\r\n\r\n    const deleteCartItems = (id) => {\r\n        dispatch(removeItemsFromCart(id));\r\n    };\r\n\r\n    const checkoutHandler = () => {\r\n        history.push(\"/login?redirect=shipping\");\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {cartItems.length === 0 ? (\r\n                <div className=\"emptyCart\">\r\n                    <RemoveShoppingCartIcon />\r\n\r\n                    <Typography>No Product in Your Cart</Typography>\r\n                    <Link to=\"/products\">View Products</Link>\r\n                </div>\r\n            ) : (\r\n                <Fragment>\r\n                    <div className=\"cartPage\">\r\n                        <div className=\"cartHeader\">\r\n                            <p>Product</p>\r\n                            <p>Quantity</p>\r\n                            <p>Subtotal</p>\r\n                        </div>\r\n\r\n                        {cartItems &&\r\n                            cartItems.map((item) => (\r\n                                <div className=\"cartContainer\" key={item.product}>\r\n                                    <CartItemCard item={item} deleteCartItems={deleteCartItems} />\r\n                                    <div className=\"cartInput\">\r\n                                        <button\r\n                                            onClick={() =>\r\n                                                decreaseQuantity(item.product, item.quantity)\r\n                                            }\r\n                                        >\r\n                                            -\r\n                                        </button>\r\n                                        <input type=\"number\" value={item.quantity} readOnly />\r\n                                        <button\r\n                                            onClick={() =>\r\n                                                increaseQuantity(\r\n                                                    item.product,\r\n                                                    item.quantity,\r\n                                                    item.stock\r\n                                                )\r\n                                            }\r\n                                        >\r\n                                            +\r\n                                        </button>\r\n                                    </div>\r\n                                    <p className=\"cartSubtotal\">{`₹${item.price * item.quantity\r\n                                        }`}</p>\r\n                                </div>\r\n                            ))}\r\n\r\n                        <div className=\"cartGrossProfit\">\r\n                            <div></div>\r\n                            <div className=\"cartGrossProfitBox\">\r\n                                <p>Gross Total</p>\r\n                                <p>{`₹${cartItems.reduce(\r\n                                    (acc, item) => acc + item.quantity * item.price,\r\n                                    0\r\n                                )}`}</p>\r\n                            </div>\r\n                            <div></div>\r\n                            <div className=\"checkOutBtn\">\r\n                                <button onClick={checkoutHandler}>Check Out</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}