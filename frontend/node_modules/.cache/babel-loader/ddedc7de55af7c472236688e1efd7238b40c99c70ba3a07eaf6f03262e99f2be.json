{"ast":null,"code":"import React,{Fragment}from\"react\";import CheckoutSteps from\"../Cart/CheckoutSteps\";import{useSelector}from\"react-redux\";import Metadata from\"../layout/Metadata\";import\"./ConfirmOrder.css\";import{Link}from\"react-router-dom\";import{Typography}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConfirmOrder=function ConfirmOrder(_ref){var history=_ref.history;var _useSelector=useSelector(function(state){return state.cart;}),shippingInfo=_useSelector.shippingInfo,cartItems=_useSelector.cartItems;var _useSelector2=useSelector(function(state){return state.user;}),user=_useSelector2.user;var subtotal=cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0);var shippingCharges=subtotal>1000?0:200;var tax=subtotal*0.18;var totalPrice=subtotal+tax+shippingCharges;var address=\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.state,\", \").concat(shippingInfo.pinCode,\", \").concat(shippingInfo.country);var proceedToPayment=function proceedToPayment(){var data={subtotal:subtotal,shippingCharges:shippingCharges,tax:tax,totalPrice:totalPrice};sessionStorage.setItem(\"orderInfo\",JSON.stringify(data));history.push(\"/process/payment\");};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Metadata,{title:\"Confirm Order\"}),/*#__PURE__*/_jsx(CheckoutSteps,{activeStep:1}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmOrderPage\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confirmshippingArea\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmshippingAreaBox\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:user.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{children:shippingInfo.phoneNo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{children:address})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmCartItems\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Your Cart Items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"confirmCartItemsContainer\",children:cartItems&&cartItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\" X \\u20B9\",item.price,\" =\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u20B9\",item.price*item.quantity]})]})]},item.product);})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"orderSummary\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Order Summery\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",subtotal]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Shipping Charges:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",shippingCharges]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"GST:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",tax]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderSummaryTotal\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Total:\"})}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",totalPrice]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:proceedToPayment,children:\"Proceed To Payment\"})]})})]})]});};export default ConfirmOrder;","map":{"version":3,"names":["React","Fragment","CheckoutSteps","useSelector","Metadata","Link","Typography","jsx","_jsx","jsxs","_jsxs","ConfirmOrder","_ref","history","_useSelector","state","cart","shippingInfo","cartItems","_useSelector2","user","subtotal","reduce","acc","item","quantity","price","shippingCharges","tax","totalPrice","address","concat","city","pinCode","country","proceedToPayment","data","sessionStorage","setItem","JSON","stringify","push","children","title","activeStep","className","name","phoneNo","map","src","image","alt","to","product","onClick"],"sources":["C:/Users/Adit/Desktop/mern-stack-final/frontend/src/component/Cart/ConfirmOrder.js"],"sourcesContent":["import React, { Fragment } from \"react\";\r\nimport CheckoutSteps from \"../Cart/CheckoutSteps\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Metadata from \"../layout/Metadata\";\r\nimport \"./ConfirmOrder.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst ConfirmOrder = ({ history }) => {\r\n    const { shippingInfo, cartItems } = useSelector((state) => state.cart);\r\n    const { user } = useSelector((state) => state.user);\r\n\r\n    const subtotal = cartItems.reduce(\r\n        (acc, item) => acc + item.quantity * item.price,\r\n        0\r\n    );\r\n\r\n    const shippingCharges = subtotal > 1000 ? 0 : 200;\r\n\r\n    const tax = subtotal * 0.18;\r\n\r\n    const totalPrice = subtotal + tax + shippingCharges;\r\n\r\n    const address = `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.state}, ${shippingInfo.pinCode}, ${shippingInfo.country}`;\r\n\r\n    const proceedToPayment = () => {\r\n        const data = {\r\n            subtotal,\r\n            shippingCharges,\r\n            tax,\r\n            totalPrice,\r\n        };\r\n\r\n        sessionStorage.setItem(\"orderInfo\", JSON.stringify(data));\r\n\r\n        history.push(\"/process/payment\");\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <Metadata title=\"Confirm Order\" />\r\n            <CheckoutSteps activeStep={1} />\r\n            <div className=\"confirmOrderPage\">\r\n                <div>\r\n                    <div className=\"confirmshippingArea\">\r\n                        <Typography>Shipping Info</Typography>\r\n                        <div className=\"confirmshippingAreaBox\">\r\n                            <div>\r\n                                <p>Name:</p>\r\n                                <span>{user.name}</span>\r\n                            </div>\r\n                            <div>\r\n                                <p>Phone:</p>\r\n                                <span>{shippingInfo.phoneNo}</span>\r\n                            </div>\r\n                            <div>\r\n                                <p>Address:</p>\r\n                                <span>{address}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"confirmCartItems\">\r\n                        <Typography>Your Cart Items:</Typography>\r\n                        <div className=\"confirmCartItemsContainer\">\r\n                            {cartItems &&\r\n                                cartItems.map((item) => (\r\n                                    <div key={item.product}>\r\n                                        <img src={item.image} alt=\"Product\" />\r\n                                        <Link to={`/product/${item.product}`}>\r\n                                            {item.name}\r\n                                        </Link>{\" \"}\r\n                                        <span>\r\n                                            {item.quantity} X ₹{item.price} ={\" \"}\r\n                                            <b>₹{item.price * item.quantity}</b>\r\n                                        </span>\r\n                                    </div>\r\n                                ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/*  */}\r\n                <div>\r\n                    <div className=\"orderSummary\">\r\n                        <Typography>Order Summery</Typography>\r\n                        <div>\r\n                            <div>\r\n                                <p>Subtotal:</p>\r\n                                <span>₹{subtotal}</span>\r\n                            </div>\r\n                            <div>\r\n                                <p>Shipping Charges:</p>\r\n                                <span>₹{shippingCharges}</span>\r\n                            </div>\r\n                            <div>\r\n                                <p>GST:</p>\r\n                                <span>₹{tax}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"orderSummaryTotal\">\r\n                            <p>\r\n                                <b>Total:</b>\r\n                            </p>\r\n                            <span>₹{totalPrice}</span>\r\n                        </div>\r\n\r\n                        <button onClick={proceedToPayment}>Proceed To Payment</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default ConfirmOrder;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}