{"ast":null,"code":"import React,{Fragment,useEffect}from\"react\";import{DataGrid}from'@mui/x-data-grid';import\"./MyOrders.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,myOrders}from\"../../actions/orderAction\";import Loader from\"../layout/Loader/Loader\";import{Link}from\"react-router-dom\";import{useAlert}from\"react-alert\";import{Typography}from\"@mui/material\";import MetaData from\"../layout/Metadata\";import LaunchIcon from\"@mui/icons-material/Launch\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyOrders=function MyOrders(){var dispatch=useDispatch();var alert=useAlert();var _useSelector=useSelector(function(state){return state.myOrders;}),loading=_useSelector.loading,error=_useSelector.error,orders=_useSelector.orders;var _useSelector2=useSelector(function(state){return state.user;}),user=_useSelector2.user;var columns=[{field:\"id\",headerName:\"Order ID\",minWidth:300,flex:1},{field:\"status\",headerName:\"Status\",minWidth:150,flex:0.5,cellClassName:function cellClassName(params){return params.row.status===\"Delivered\"?\"greenColor\":\"redColor\";}},{field:\"itemsQty\",headerName:\"Items Qty\",type:\"number\",minWidth:150,flex:0.3},{field:\"amount\",headerName:\"Amount\",type:\"number\",minWidth:270,flex:0.5},{field:\"actions\",flex:0.3,headerName:\"Actions\",minWidth:150,type:\"number\",sortable:false,renderCell:function renderCell(params){return/*#__PURE__*/_jsx(Link,{to:\"/order/\".concat(params.row.id),children:/*#__PURE__*/_jsx(LaunchIcon,{})});}}];var rows=[];orders&&orders.forEach(function(item,index){rows.push({itemsQty:item.orderItems.length,id:item._id,status:item.orderStatus,amount:item.totalPrice});});useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(myOrders());},[dispatch,alert,error]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"\".concat(user.name,\" - Orders\")}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"myOrdersPage\",children:[/*#__PURE__*/_jsx(DataGrid,{rows:rows,columns:columns,pageSize:10,disableSelectionOnClick:true,className:\"myOrdersTable\",autoHeight:true}),/*#__PURE__*/_jsxs(Typography,{id:\"myOrdersHeading\",children:[user.name,\"'s Orders\"]})]})]});};export default MyOrders;","map":{"version":3,"names":["React","Fragment","useEffect","DataGrid","useSelector","useDispatch","clearErrors","myOrders","Loader","Link","useAlert","Typography","MetaData","LaunchIcon","jsx","_jsx","jsxs","_jsxs","MyOrders","dispatch","alert","_useSelector","state","loading","error","orders","_useSelector2","user","columns","field","headerName","minWidth","flex","cellClassName","params","row","status","type","sortable","renderCell","to","concat","id","children","rows","forEach","item","index","push","itemsQty","orderItems","length","_id","orderStatus","amount","totalPrice","title","name","className","pageSize","disableSelectionOnClick","autoHeight"],"sources":["C:/Users/Adit/Desktop/mern-stack-final/frontend/src/component/Order/MyOrders.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport \"./MyOrders.css\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { clearErrors, myOrders } from \"../../actions/orderAction\";\r\nimport Loader from \"../layout/Loader/Loader\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAlert } from \"react-alert\";\r\nimport { Typography } from \"@mui/material\";\r\nimport MetaData from \"../layout/Metadata\";\r\nimport LaunchIcon from \"@mui/icons-material/Launch\";\r\n\r\nconst MyOrders = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const alert = useAlert();\r\n\r\n    const { loading, error, orders } = useSelector((state) => state.myOrders);\r\n    const { user } = useSelector((state) => state.user);\r\n\r\n    const columns = [\r\n        { field: \"id\", headerName: \"Order ID\", minWidth: 300, flex: 1 },\r\n\r\n        {\r\n            field: \"status\",\r\n            headerName: \"Status\",\r\n            minWidth: 150,\r\n            flex: 0.5,\r\n            cellClassName: (params) => {\r\n                return params.row.status === \"Delivered\"\r\n                    ? \"greenColor\"\r\n                    : \"redColor\";\r\n            },\r\n        },\r\n        {\r\n            field: \"itemsQty\",\r\n            headerName: \"Items Qty\",\r\n            type: \"number\",\r\n            minWidth: 150,\r\n            flex: 0.3,\r\n        },\r\n\r\n        {\r\n            field: \"amount\",\r\n            headerName: \"Amount\",\r\n            type: \"number\",\r\n            minWidth: 270,\r\n            flex: 0.5,\r\n        },\r\n\r\n        {\r\n            field: \"actions\",\r\n            flex: 0.3,\r\n            headerName: \"Actions\",\r\n            minWidth: 150,\r\n            type: \"number\",\r\n            sortable: false,\r\n            renderCell: (params) => {\r\n                return (\r\n                    <Link to={`/order/${params.row.id}`}>\r\n                        <LaunchIcon />\r\n                    </Link>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n    const rows = [];\r\n\r\n    orders &&\r\n        orders.forEach((item, index) => {\r\n            rows.push({\r\n                itemsQty: item.orderItems.length,\r\n                id: item._id,\r\n                status: item.orderStatus,\r\n                amount: item.totalPrice,\r\n            });\r\n        });\r\n\r\n    useEffect(() => {\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        dispatch(myOrders());\r\n    }, [dispatch, alert, error]);\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={`${user.name} - Orders`} />\r\n\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div className=\"myOrdersPage\">\r\n                    <DataGrid\r\n                        rows={rows}\r\n                        columns={columns}\r\n                        pageSize={10}\r\n                        disableSelectionOnClick\r\n                        className=\"myOrdersTable\"\r\n                        autoHeight\r\n                    />\r\n\r\n                    <Typography id=\"myOrdersHeading\">{user.name}'s Orders</Typography>\r\n                </div>\r\n            )}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default MyOrders;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,gBAAgB,CACvB,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,CAAEC,QAAQ,KAAQ,2BAA2B,CACjE,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,UAAU,KAAQ,eAAe,CAC1C,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CACzC,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpD,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACnB,GAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAe,KAAK,CAAGV,QAAQ,CAAC,CAAC,CAExB,IAAAW,YAAA,CAAmCjB,WAAW,CAAC,SAACkB,KAAK,QAAK,CAAAA,KAAK,CAACf,QAAQ,GAAC,CAAjEgB,OAAO,CAAAF,YAAA,CAAPE,OAAO,CAAEC,KAAK,CAAAH,YAAA,CAALG,KAAK,CAAEC,MAAM,CAAAJ,YAAA,CAANI,MAAM,CAC9B,IAAAC,aAAA,CAAiBtB,WAAW,CAAC,SAACkB,KAAK,QAAK,CAAAA,KAAK,CAACK,IAAI,GAAC,CAA3CA,IAAI,CAAAD,aAAA,CAAJC,IAAI,CAEZ,GAAM,CAAAC,OAAO,CAAG,CACZ,CAAEC,KAAK,CAAE,IAAI,CAAEC,UAAU,CAAE,UAAU,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAE,CAAC,CAE/D,CACIH,KAAK,CAAE,QAAQ,CACfC,UAAU,CAAE,QAAQ,CACpBC,QAAQ,CAAE,GAAG,CACbC,IAAI,CAAE,GAAG,CACTC,aAAa,CAAE,SAAAA,cAACC,MAAM,CAAK,CACvB,MAAO,CAAAA,MAAM,CAACC,GAAG,CAACC,MAAM,GAAK,WAAW,CAClC,YAAY,CACZ,UAAU,CACpB,CACJ,CAAC,CACD,CACIP,KAAK,CAAE,UAAU,CACjBC,UAAU,CAAE,WAAW,CACvBO,IAAI,CAAE,QAAQ,CACdN,QAAQ,CAAE,GAAG,CACbC,IAAI,CAAE,GACV,CAAC,CAED,CACIH,KAAK,CAAE,QAAQ,CACfC,UAAU,CAAE,QAAQ,CACpBO,IAAI,CAAE,QAAQ,CACdN,QAAQ,CAAE,GAAG,CACbC,IAAI,CAAE,GACV,CAAC,CAED,CACIH,KAAK,CAAE,SAAS,CAChBG,IAAI,CAAE,GAAG,CACTF,UAAU,CAAE,SAAS,CACrBC,QAAQ,CAAE,GAAG,CACbM,IAAI,CAAE,QAAQ,CACdC,QAAQ,CAAE,KAAK,CACfC,UAAU,CAAE,SAAAA,WAACL,MAAM,CAAK,CACpB,mBACInB,IAAA,CAACN,IAAI,EAAC+B,EAAE,WAAAC,MAAA,CAAYP,MAAM,CAACC,GAAG,CAACO,EAAE,CAAG,CAAAC,QAAA,cAChC5B,IAAA,CAACF,UAAU,GAAE,CAAC,CACZ,CAAC,CAEf,CACJ,CAAC,CACJ,CACD,GAAM,CAAA+B,IAAI,CAAG,EAAE,CAEfnB,MAAM,EACFA,MAAM,CAACoB,OAAO,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CAC5BH,IAAI,CAACI,IAAI,CAAC,CACNC,QAAQ,CAAEH,IAAI,CAACI,UAAU,CAACC,MAAM,CAChCT,EAAE,CAAEI,IAAI,CAACM,GAAG,CACZhB,MAAM,CAAEU,IAAI,CAACO,WAAW,CACxBC,MAAM,CAAER,IAAI,CAACS,UACjB,CAAC,CAAC,CACN,CAAC,CAAC,CAENrD,SAAS,CAAC,UAAM,CACZ,GAAIsB,KAAK,CAAE,CACPJ,KAAK,CAACI,KAAK,CAACA,KAAK,CAAC,CAClBL,QAAQ,CAACb,WAAW,CAAC,CAAC,CAAC,CAC3B,CAEAa,QAAQ,CAACZ,QAAQ,CAAC,CAAC,CAAC,CACxB,CAAC,CAAE,CAACY,QAAQ,CAAEC,KAAK,CAAEI,KAAK,CAAC,CAAC,CAE5B,mBACIP,KAAA,CAAChB,QAAQ,EAAA0C,QAAA,eACL5B,IAAA,CAACH,QAAQ,EAAC4C,KAAK,IAAAf,MAAA,CAAKd,IAAI,CAAC8B,IAAI,aAAY,CAAE,CAAC,CAE3ClC,OAAO,cACJR,IAAA,CAACP,MAAM,GAAE,CAAC,cAEVS,KAAA,QAAKyC,SAAS,CAAC,cAAc,CAAAf,QAAA,eACzB5B,IAAA,CAACZ,QAAQ,EACLyC,IAAI,CAAEA,IAAK,CACXhB,OAAO,CAAEA,OAAQ,CACjB+B,QAAQ,CAAE,EAAG,CACbC,uBAAuB,MACvBF,SAAS,CAAC,eAAe,CACzBG,UAAU,MACb,CAAC,cAEF5C,KAAA,CAACN,UAAU,EAAC+B,EAAE,CAAC,iBAAiB,CAAAC,QAAA,EAAEhB,IAAI,CAAC8B,IAAI,CAAC,WAAS,EAAY,CAAC,EACjE,CACR,EACK,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAvC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}